<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<link
		href="#{facesContext.externalContext.requestContextPath}/resources/styles.css"
		rel="stylesheet" media="screen" />

	<link href="../resources/bootstrap-4.5.3-dist/css/bootstrap.min.css"
		rel="stylesheet" media="screen" />
</h:head>
<h:body style="background-color: #396EDF;">

	<h:form id="formMenu">
		<p:linkButton id="btvoltar" outcome="home.xhtml" value="Voltar"
			style="color: black; font-size: 15px; border-radius: solid 1px black;">
		</p:linkButton>


	</h:form>
	<h:form id="formList"
		style="display: flex; flex-direction: row; margin-left: 10px; flex-wrap: wrap;">
		<ui:repeat var="tarefa" value="#{tarefaBean.tarefasDoUsuarioLogado}">
			<p:panel id="tarefa" styleClass="cardtarefa" header="#{tarefa.nome}"
				style="display: flex; flex-direction: column; align-item: center; width: 300px; margin-top: 15px;"
				rendered="#{tarefa.status == 'FINALIZADA'}">
				<h:outputText value="#{tarefa.descricao}" />
				<br />
				<br />
				<h:outputText id="dtCriacao" value="#{tarefa.dtCriacao}">
					<f:convertDateTime for="dtCriacao" pattern="dd/MM/yyyy" />
				</h:outputText>
				<br />
				<br />
				<h:outputText value="#{tarefa.status}" />
				<br />
				<br />

				<div id="tarefaId"
					style="margin-left: 15px; display: flex; align-itens: center; justify-content: center;">
					<p:draggable for="tarefa" revert="true" />
					<h:commandButton id="btexcluirtarefa" styleClass="btn-trash"
						action="#{tarefaBean.excluirTarefaDoHistorico(tarefa)}"
						image="/assets/trash.png">
						<f:ajax render="formList" />
					</h:commandButton>
				</div>

			</p:panel>


		</ui:repeat>

	</h:form>
</h:body>
</html>